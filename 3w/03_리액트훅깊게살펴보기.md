# 03. 리액트 훅 깊게 살펴보기

## 3.1 리액트의 모든 훅 파헤치기

### 3.1.1 useState

- 함수 컴포넌트 내부에서 상태를 정의하고, 이 상태를 관리할 수 있게 해주는 훅

#### useState 구현 살펴보기

- state 초깃값을 넘겨 주지 않으면 undefined 로 설정

\*\* [p. 194] \_\_SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED 변수명 잼나네요 ㅋㅋ

#### 게으른 초기화(Lazy initializtion)

- useState 에 변수 대신 함수를 넘기는 것
- 공식문서에는 useState 의 초깃값이 복잡하거나 무거운 연산 포함시에 사용을 권고
- 리렌더링이 발생하면 함수의 실행은 무시

```jsx
// 일반적 사용
const [count, setCount] = useState(
  Number.parseInt(window.localStorage.getItem(cacheKey))
);

// 게으른 초기화
const [count, setCount] = useState(() =>
  Number.parseInt(window.localStorage.getItem(cacheKey))
);
```

- 예제 코드

```jsx
function App() {
  const [state, setState] = useState(() => {
    // 최초 설정 시, 1번만 실행 된다
    console.log("복잡한 연산");
    return 0;
  });

  return (
    <>
      <h1>{state}</h1>
      <button onClick={() => setState((prev) => prev + 1)}>리렌더링</button>
    </>
  );
}
```

- 최초 실행시 한번만 실행이 되고, 리렌더링 시 다시 실행이 안되므로 낭비 없이 효율적으로 사용이 가능하다
- localStorage / sessionStorage 접근 이나 배열 함수에 대한 접근, 초깃값 계산이 복잡한 경우 사용하면 좋다

### 3.1.2 useEffect
